{"version":3,"file":"webalert.js","mappings":"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","sources":["webpack://webalert/./src/home/shell/Projects/webalert/src/util.ts","webpack://webalert/./src/home/shell/Projects/webalert/src/Dialog.ts","webpack://webalert/./src/home/shell/Projects/webalert/inlined.ts","webpack://webalert/./src/home/shell/Projects/webalert/src/AlertDialog.ts","webpack://webalert/./src/home/shell/Projects/webalert/src/WindowDialog.ts","webpack://webalert/./src/home/shell/Projects/webalert/src/popup.ts","webpack://webalert/./src/home/shell/Projects/webalert/src/webalert.internal.ts","webpack://webalert/./src/home/shell/Projects/webalert/src/alert.ts","webpack://webalert/./src/home/shell/Projects/webalert/src/confirm.ts","webpack://webalert/./src/home/shell/Projects/webalert/src/prompt.ts","webpack://webalert/./src/home/shell/Projects/webalert/src/block.ts","webpack://webalert/./src/home/shell/Projects/webalert/src/form.ts"],"sourcesContent":["export type undefined = nul;\nexport const undefined: nul = void 0;\n\nexport function fallback<E>(value: E | nul, def: E): E {\n\tif (value == null)\n\t\treturn def;\n\treturn value;\n}\n\nexport function keys(obj: object) {\n\treturn Object.keys(obj);\n}\n\nexport function get(obj: object, key: string) {\n\tconst desc = Object.getOwnPropertyDescriptor(obj, key);\n\tif (desc == null)\n\t\treturn null;\n\n\tconst get = desc.get;\n\tif (get != null)\n\t\treturn get();\n\n\treturn desc.value;\n}\n\nexport function set(obj: object, key: string, value?: any) {\n\tconst set = Object.getOwnPropertyDescriptor(obj, key)?.set;\n\tif (set != null)\n\t\tset(value);\n\telse define(obj, key, value);\n}\n\nexport function has(obj: object, key: string) {\n\treturn Object.getOwnPropertyDescriptor(obj, key) != null;\n}\n\ntype getter = () => any;\ntype setter = (v: any) => void;\ninterface PropertyAttributeInit {\n\treadonly writable?: bool;\n\treadonly configurable?: bool;\n\treadonly enumerable?: bool;\n\treadonly get?: getter;\n\treadonly set?: setter;\n}\n\nexport function remove(obj: object, key: string) {\n\tdelete (obj as any)[key];\n}\n\nexport function clean<T extends object>(obj: T): T {\n\tfor (let k of keys(obj)) {\n\t\tconst desc = Object.getOwnPropertyDescriptor(obj, k)!;\n\t\tif (desc.value === void 0) {\n\t\t\tremove(obj, k);\n\t\t}\n\t}\n\treturn obj;\n}\n\nexport function define(obj: object, key: string, value?: any, attr?: PropertyAttributeInit) {\n\tObject.defineProperty(obj, key, clean({ ...attr, value }));\n}\n\nexport function defineRo(obj: object, key: string, value?: any) {\n\tdefine(obj, key, value, {\n\t\twritable: false,\n\t\tconfigurable: false,\n\t\tenumerable: false\n\t});\n}\n\nexport function defineGet(obj: object, key: string, get?: getter) {\n\tdefine(obj, key, void 0, { get });\n}\n\nexport function defineSet(obj: object, key: string, set?: setter) {\n\tdefine(obj, key, void 0, { set });\n}\n\nexport function assign(to: object, from: object, attr?: PropertyAttributeInit) {\n\tconst init = fallback(attr, {});\n\tfor (let k of keys(from)) {\n\t\tconst desc = Object.getOwnPropertyDescriptor(from, k)!;\n\n\t\tdefine(to, k, desc.value, {\n\t\t\t...init,\n\t\t\tget: desc.get == null ? init.get : desc.get,\n\t\t\tset: desc.set == null ? init.set : desc.set\n\t\t});\n\t}\n}\n\nexport function clone<E extends object>(obj: E): E {\n\treturn Object.create(obj) as E;\n}\n\nexport function createReadonlyObject<E extends object>(baseObj: E): E {\n\tlet newObj: E = {} as E;\n\tassign(newObj, baseObj, {\n\t\twritable: false,\n\t\tconfigurable: false,\n\t\tenumerable: false\n\t});\n\n\treturn newObj;\n}\n\nexport function createRawObject<E extends object>(base: E): E {\n\treturn new RawObject(base) as E;\n}\n\nexport class Null {\n\tprotected readonly __defineGetter__ = void 0;\n\tprotected readonly __defineSetter__ = void 0;\n\tprotected readonly __lookupGetter__ = void 0;\n\tprotected readonly __lookupSetter__ = void 0;\n\tprotected readonly __proto__ = void 0;\n\tprotected readonly isPrototypeOf = void 0;\n\tprotected readonly propertyIsEnumerable = void 0;\n\tprotected readonly toLocaleString = void 0;\n\tprotected readonly toString = void 0;\n\tprotected readonly valueOf = void 0;\n\n\tprotected constructor() {\n\t\tassign(this, this, {\n\t\t\twritable: false,\n\t\t\tconfigurable: false,\n\t\t\tenumerable: false\n\t\t});\n\t\tdefine(this, \"constructor\", void 0, {\n\t\t\twritable: false,\n\t\t\tconfigurable: false,\n\t\t\tenumerable: false\n\t\t});\n\t}\n\n\tstatic readonly instance = new Null();\n}\n\nexport class RawObject extends Null {\n\tconstructor(initObj?: object) {\n\t\tsuper();\n\t\tif (initObj != null) {\n\t\t\tassign(this, initObj, {});\n\n\t\t\t// reassign Null instance to avoid override\n\t\t\tassign(this, Null.instance, {\n\t\t\t\twritable: false,\n\t\t\t\tconfigurable: false,\n\t\t\t\tenumerable: false\n\t\t\t});\n\t\t}\n\t}\n}\n","import { fallback, RawObject, define } from \"./util\";\nimport { dialogDoc } from \"../inlined\";\n\nfunction waitForBody(): Promise<HTMLElement> {\n\treturn new Promise(resolve => {\n\t\tconst body = document.body;\n\t\tif (body == null) {\n\t\t\tdocument.addEventListener(\"DOMContentLoaded\", () => {\n\t\t\t\tresolve(document.body);\n\t\t\t}, { once: true, passive: true });\n\t\t} else resolve(body);\n\t});\n}\n\nfunction createFrame() {\n\tconst frame = document.createElement(\"iframe\");\n\tframe.setAttribute(\"type\", \"text/plain\");\n\tframe.setAttribute(\"width\", \"1024\");\n\tframe.setAttribute(\"height\", \"768\");\n\tframe.setAttribute(\"style\", \"position:absolute;display:block;width:100%;height:100%;top:0px;left:0px;right:0px;bottom:0px;border:none;z-index:9999;\");\n\tframe.setAttribute(\"scrolling\", \"no\");\n\tframe.setAttribute(\"loading\", \"eager\");\n\tframe.setAttribute(\"allowfullscreen\", \"true\");\n\tframe.setAttribute(\"allowtransparency\", \"true\");\n\tframe.setAttribute(\"fetchpriority\", \"high\");\n\treturn frame;\n}\n\nfunction waitFor(element: HTMLElement): Promise<void> {\n\treturn new Promise(resolve => {\t\n\t\telement.addEventListener(\"load\", () => {\n\t\t\tresolve();\n\t\t}, { once: true, passive: true });\n\t});\n}\n\nexport default class Dialog extends RawObject implements globalThis.Dialog {\n\tdeclare readonly width: int | nul;\n\tdeclare readonly height: int | nul;\n\tdeclare readonly x: int | nul;\n\tdeclare readonly y: int | nul;\n\tdeclare readonly paddingX: int | nul;\n\tdeclare readonly paddingY: int | nul;\n\tdeclare readonly centered: bool | nul;\n\tdeclare readonly draggable: bool | nul;\n\tdeclare readonly resizable: bool | nul;\n\treadonly canceled: bool = false;\n\n\t// related elements\n\tprotected currentFrame: HTMLIFrameElement | nul;\n\tprotected frameWindow: Window | nul;\n\tprotected frameDocument: Document | nul;\n\tprotected dialogElement: HTMLElement | nul;\n\n\tconstructor(init?: DialogInit) {\n\t\tsuper(init);\n\t}\n\n\tprotected async loadDocument() {\n\t\tconst frame = createFrame();\n\t\tconst body = await waitForBody();\n\n\t\tframe.setAttribute(\"srcdoc\", dialogDoc);\n\t\tbody.scrollTo(0, 0);\n\t\tbody.style.overflow = \"hidden\";\n\t\tbody.appendChild(frame);\n\t\tawait waitFor(frame);\n\n\t\tconst win = frame.contentWindow!;\n\t\tconst doc = win.document;\n\n\t\tthis.frameWindow = win;\n\t\tthis.frameDocument = doc;\n\t\tthis.currentFrame = frame;\n\t\tthis.dialogElement = doc.getElementById(\"dialog\");\n\t}\n\n\tprotected async initializeDocument() {\n\t}\n\n\tprotected draggableElement(elem: HTMLElement, dragger = elem) {\n\t\tdragger.onmousedown = (e) => {\n\t\t\te.preventDefault();\n\t\t\tlet x1 = e.clientX;\n\t\t\tlet y1 = e.clientY;\n\n\t\t\telem.onmouseout = elem.onmouseup = (e) => {\n\t\t\t\te.preventDefault();\n\t\t\t\telem.onmouseup = null;\n\t\t\t\telem.onmousemove = null;\n\t\t\t};\n\n\t\t\telem.onmousemove = (e) => {\n\t\t\t\te.preventDefault();\n\t\t\t\tconst x = e.clientX;\n\t\t\t\tconst y = e.clientY;\n\n\t\t\t\tlet x2 = x1 - x;\n\t\t\t\tlet y2 = y1 - y;\n\t\t\t\tx1 = x;\n\t\t\t\ty1 = y;\n\n\t\t\t\telem.style.top = Math.round(elem.offsetTop - y2) + \"px\";\n\t\t\t\telem.style.left = Math.round(elem.offsetLeft - x2) + \"px\";\n\t\t\t};\n\t\t};\n\t}\n\n\tprotected initializeDraggable() {\n\t}\n\n\tprotected async measureDocument() {\n\t\tconst dialog = this.dialogElement!;\n\t\tconst frame = this.currentFrame!;\n\n\t\tconst width = this.width;\n\t\tif (width != null)\n\t\t\tdialog.style.width = width + \"px\";\n\n\t\tconst height = this.height;\n\t\tif (height != null)\n\t\t\tdialog.style.height = height + \"px\";\n\n\t\tconst paddingX = this.paddingX;\n\t\tif (paddingX != null) {\n\t\t\tdialog.style.paddingLeft = paddingX + \"px\";\n\t\t\tdialog.style.paddingRight = paddingX + \"px\";\n\t\t}\n\n\t\tconst paddingY = this.paddingY;\n\t\tif (paddingY != null) {\n\t\t\tdialog.style.paddingTop = paddingY + \"px\";\n\t\t\tdialog.style.paddingBottom = paddingY + \"px\";\n\t\t}\n\n\t\tif (fallback(this.centered, true)) {\n\t\t\tconst resize = async () => {\n\t\t\t\tconst dw = dialog.clientWidth + 2; // includes borders\n\t\t\t\tconst dh = dialog.clientHeight + 2;\n\n\t\t\t\tdialog.style.left = Math.floor((frame.clientWidth - dw) / 2) + \"px\";\n\t\t\t\tdialog.style.top = Math.floor((frame.clientHeight - dh) / 2) + \"px\";\n\t\t\t};\n\n\t\t\tawait resize();\n\t\t\tdialog.addEventListener(\"resize\", resize, true);\n\t\t\twindow.addEventListener(\"resize\", resize, true);\n\t\t} else {\n\t\t\tconst x = this.x;\n\t\t\tif (x != null)\n\t\t\t\tdialog.style.left = x + \"px\";\n\n\t\t\tconst y = this.y;\n\t\t\tif (y != null)\n\t\t\t\tdialog.style.top = y + \"px\";\n\n\t\t\tif (fallback(this.draggable, false)) {\n\t\t\t\tthis.initializeDraggable();\n\t\t\t}\n\t\t}\n\n\t\tif (fallback(this.resizable, false)) {\n\t\t\tdialog.style.resize = \"both\";\n\t\t\tdialog.style.overflow = \"auto\";\n\t\t}\n\n\t\tdialog.style.visibility = \"visible\";\n\t}\n\n\tasync show() {\n\t\tawait this.loadDocument();\n\t\tawait this.initializeDocument();\n\t\tawait this.measureDocument();\n\t}\n\n\tdismiss() {\n\t\tif (this.currentFrame != null) {\n\t\t\t// unlock scrolling\n\t\t\tdocument.body.style.overflow = \"\";\n\n\t\t\tthis.currentFrame.remove();\n\t\t\tthis.currentFrame = null;\n\t\t}\n\t}\n\n\tcancel() {\n\t\tthis.dismiss();\n\t\tdefine(this, \"canceled\", true);\n\t}\n\n\tclose() {\n\t\tthis.dismiss();\n\t}\n}\n","export const dialogDoc = \"<?xml version=\\\"1.0\\\" encoding=\\\"utf-8\\\" ?>\\n<!DOCTYPE html PUBLIC \\\"-//W3C//DTD XHTML 1.1//EN\\\" \\\"http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd\\\">\\n<html xmlns=\\\"http://www.w3.org/1999/xhtml\\\">\\n\t<head>\\n\t\t<meta http-equiv=\\\"Content-Type\\\" content=\\\"text/html;charset=utf-8\\\" />\\n\t\t<meta http-equiv=\\\"Referrer-Policy\\\" content=\\\"no-referrer\\\" />\\n\t\t<meta name=\\\"referrer\\\" content=\\\"no-referrer\\\" />\\n\t\t<meta name=\\\"viewport\\\" content=\\\"width=device-width,initial-scale=1,minimum-scale=1\\\" />\\n\t\t<meta name=\\\"robots\\\" content=\\\"noindex,nofollow\\\" />\\n\t\t<base href=\\\"undefined://undefined/\\\" />\\n\t\t<title>Dialog0</title>\\n\t\t<style type=\\\"text/css\\\">\\n* {\\n\tmargin: 0px;\\n\tpadding: 0px;\\n}\\n\\n*:hover, *:active {\\n\t-webkit-tap-highlight-color: rgba(0, 0, 0, 0);\\n}\\n\\ninput, select, textarea {\\n\tfont-size: inherit;\\n\tfont-family: inherit;\\n\tfont-weight: inherit;\\n\tfont-style: inherit;\\n\tcolor: inherit;\\n}\\n\\nbody {\\n\tposition: absolute;\\n\tdisplay: block;\\n\twidth: 100%;\\n\theight: 100%;\\n\tfont-size: 14px;\\n\tfont-weight: 500;\\n\tfont-family: \\\"Ubuntu\\\";\\n\tfont-style: normal;\\n\tcolor: #000000;\\n\tbackground-color: rgba(0, 0, 0, 0.5);\\n\toverflow: hidden;\\n}\\n\\n#dialog {\\n\tposition: absolute;\\n\tdisplay: block;\\n\twidth: 250px;\\n\theight: fit-content;\\n\tpadding: 20px;\\n\tcolor: #000000;\\n\tbackground-color: #ffffff;\\n\tborder-style: solid;\\n\tborder-width: 1px;\\n\tborder-color: #000000;\\n\tborder-radius: 10px;\\n\tvisibility: hidden;\\n}\\n\\n#titlebar {\\n\tposition: relative;\\n\tdisplay: block;\\n\twidth: 100%;\\n\theight: 30px;\\n\tcolor: #303030;\\n\tbackground-color: rgba(0, 0, 0, 0.2);\\n}\\n\\n#titlebar-icon {\\n\tposition: absolute;\\n\tdisplay: block;\\n\twidth: 20px;\\n\theight: 20px;\\n\tleft: 5px;\\n\ttop: 5px;\\n}\\n\\n#titlebar-title {\\n\tposition: absolute;\\n\tdisplay: block;\\n\twidth: 100px;\\n\theight: 20px;\\n\tleft: 10px;\\n\ttop: 5px;\\n\tcursor: default;\\n\tline-height: 20px;\\n\ttext-align: start;\\n\tfont-size: 16px;\\n\tfont-weight: 600;\\n\ttext-overflow: ellipsis;\\n\toverflow: hidden;\\n\toverflow-wrap: break-word;\\n}\\n\\n.titlebar-button {\\n\tposition: absolute;\\n\tdisplay: block;\\n\twidth: 20px;\\n\theight: 20px;\\n\ttop: 5px;\\n\tcursor: pointer;\\n\tfont-size: 16px;\\n\tfont-weight: 600;\\n\tline-height: 20px;\\n\ttext-align: center;\\n\tuser-select: none;\\n\tcolor: #000000;\\n\tbackground-color: #a0a0a0;\\n\tborder-width: 1px;\\n\tborder-style: solid;\\n\tborder-top-color: #ffffff;\\n\tborder-left-color: #ffffff;\\n\tborder-right-color: #000000;\\n\tborder-bottom-color: #000000;\\n}\\n\\n.titlebar-button[disabled=\\\"true\\\"] {\\n\tcolor: #808080;\t\\n}\\n\\n.titlebar-button:active {\\n\tborder-top-color: #000000;\\n\tborder-left-color: #000000;\\n\tborder-right-color: #ffffff;\\n\tborder-bottom-color: #ffffff;\\n}\\n\\n.titlebar-button[disabled=\\\"true\\\"]:active {\\n\tborder-top-color: #ffffff;\\n\tborder-left-color: #ffffff;\\n\tborder-right-color: #000000;\\n\tborder-bottom-color: #000000;\\n}\\n\\n#titlebar-close-button {\\n\tright: 5px;\\n}\\n\\n#titlebar-maximize-button {\\n\tright: 30px;\\n}\\n\\n#titlebar-minimize-button {\\n\tright: 55px;\\n}\\n\\n.frame {\\n\tposition: relative;\\n\tdisplay: block;\\n\twidth: 100%;\\n\theight: calc(100% - 30px);\\n\tborder: none;\\n\toverflow: hidden;\\n}\\n\\n#element-container {\\n\tposition: relative;\\n\tdisplay: block;\\n\twidth: 100%;\\n\theight: fit-content;\\n\tmargin-bottom: 10px;\\n}\\n\\n.title {\\n\tposition: relative;\\n\tdisplay: block;\\n\twidth: 100%;\\n\theight: fit-content;\\n\tmargin-top: 5px;\\n\tmargin-bottom: 5px;\\n\tline-height: 24px;\\n\tfont-size: 18px;\\n\tfont-weight: 600;\\n\ttext-align: center;\\n}\\n\\n.message {\\n\tposition: relative;\\n\tdisplay: block;\\n\twidth: 100%;\\n\theight: fit-content;\\n\tline-height: 20px;\\n\ttext-align: start;\\n\toverflow-x: hidden;\\n\toverflow-wrap: break-word;\\n}\\n\\n.input {\\n\tposition: relative;\\n\tdisplay: block;\\n\twidth: calc(100% - 10px);\\n\theight: 16px;\\n\tline-height: 16px;\\n\tmargin-top: 10px;\\n\tmargin-bottom: 10px;\\n\tpadding: 5px;\\n\toutline: none;\\n\tborder-style: solid;\\n\tborder-width: 1px;\\n\tborder-color: #808080;\\n\tborder-radius: 10px;\\n}\\n\\n.input:focus {\\n\tborder-color: #303030;\\n}\\n\\n#button-bar {\\n\tposition: relative;\\n\tdisplay: flex;\\n\twidth: fit-content;\\n\theight: fit-content;\\n\tmargin: auto;\\n}\\n\\n.button {\\n\tposition: relative;\\n\tdisplay: block;\\n\twidth: fit-content;\\n\theight: fit-content;\\n\tpadding: 10px;\\n\tmargin-left: 5px;\\n\tmargin-right: 5px;\\n\tcolor: #ffffff;\\n\tbackground-color: #6060ff;\\n\tcursor: pointer;\\n\tuser-select: none;\\n\tborder-width: 1px;\\n\tborder-style: solid;\\n\tborder-radius: 10px;\\n\tborder-top-color: #ffffff;\\n\tborder-left-color: #ffffff;\\n\tborder-right-color: #000000;\\n\tborder-bottom-color: #000000;\\n}\\n\\n.button:active {\\n\tborder-top-color: #000000;\\n\tborder-left-color: #000000;\\n\tborder-right-color: #ffffff;\\n\tborder-bottom-color: #ffffff;\\n}\\n\\n.button[disabled=true] {\\n\tbackground-color: #808080;\\n}\\n\\n.button[disabled=true]:active {\\n\tborder-top-color: #ffffff;\\n\tborder-left-color: #ffffff;\\n\tborder-right-color: #000000;\\n\tborder-bottom-color: #000000;\\n}\\n\t\t</style>\\n\t</head>\\n\t<body>\\n\t\t<div id=\\\"dialog\\\"></div>\\n\t\t<script type=\\\"text/javascript\\\">\\n\\\"use strict\\\";\\n\\n(() => {\\n\\n\\n\\n})();\\n\t\t</script>\\n\t</body>\\n</html>\";\n","import Dialog from \"./Dialog\";\nimport { fallback } from \"./util\"\n\nfunction initButton(config: AlertDialogButtonInit | nul, element: HTMLElement) {\n\tif (config != null) {\n\t\telement.innerHTML = fallback(config.text, \"\");\n\t\tif (fallback(config.disabled, false))\n\t\t\telement.setAttribute(\"disabled\", \"true\");\n\t\telse element.onclick = config.onclick as any;\n\t} else element.remove();\n}\n\nexport default class AlertDialog extends Dialog implements globalThis.AlertDialog {\n\tdeclare readonly title: string | nul;\n\tdeclare readonly message: string | nul;\n\tdeclare readonly elements: DialogElements | nul;\n\tdeclare readonly positiveButton: AlertDialogButtonInit | nul;\n\tdeclare readonly negativeButton: AlertDialogButtonInit | nul;\n\tdeclare readonly neutralButton: AlertDialogButtonInit | nul;\n\n\tconstructor(init?: AlertDialogInit) {\n\t\tsuper(init);\n\t}\n\n\t/** @Override */\n\tprotected async initializeDocument() {\n\t\tthis.dialogElement!.innerHTML = \"<div id=\\\"element-container\\\"></div><div id=\\\"button-bar\\\"><div id=\\\"negative-button\\\" class=\\\"button\\\"></div><div id=\\\"neutral-button\\\" class=\\\"button\\\"></div><div id=\\\"positive-button\\\" class=\\\"button\\\"></div></div>\";\n\t\tconst doc = this.frameDocument!;\n\t\tconst ec = doc.getElementById(\"element-container\")!;\n\n\t\tconst title = this.title;\n\t\tif (title != null) {\n\t\t\tconst elem = doc.createElement(\"div\");\n\t\t\telem.className = \"title\";\n\t\t\telem.innerHTML = title;\n\t\t\tec.appendChild(elem);\n\t\t}\n\n\t\tconst message = this.message;\n\t\tif (message != null) {\n\t\t\tconst elem = doc.createElement(\"div\");\n\t\t\telem.className = \"message\";\n\t\t\telem.innerHTML = message;\n\t\t\tec.appendChild(elem);\n\t\t}\n\n\t\tconst elements = this.elements;\n\t\tif (elements != null) {\n\t\t\tfor (let element of elements) {\n\t\t\t\tif (element instanceof HTMLElement) {\n\t\t\t\t\tec.appendChild(element);\n\t\t\t\t} else {\n\t\t\t\t\tconst elem = doc.createElement(element.type);\n\t\t\t\t\telem.className = fallback(element.className, \"\");\n\t\t\t\t\telem.innerHTML = fallback(element.innerHTML, \"\");\n\t\t\t\t\tconst style = element.style;\n\t\t\t\t\tif (style != null)\n\t\t\t\t\t\telem.setAttribute(\"style\", style);\n\t\t\t\t\tfor (let attr of fallback(element.attributes, []))\n\t\t\t\t\t\telem.setAttribute(attr.name, attr.value);\n\t\t\t\t\tec.appendChild(elem);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tinitButton(this.positiveButton, doc.getElementById(\"positive-button\")!);\n\t\tinitButton(this.negativeButton, doc.getElementById(\"negative-button\")!);\n\t\tinitButton(this.neutralButton, doc.getElementById(\"neutral-button\")!);\n\t}\n}\n","import Dialog from \"./Dialog\";\nimport { define, fallback } from \"./util\";\n\nexport default class WindowDialog extends Dialog implements globalThis.WindowDialog {\n\tdeclare readonly title: WindowDialogTitleBarInit | string | nul;\n\tdeclare readonly frame: FrameInit | nul;\n\treadonly maximized: bool = false;\n\treadonly minimized: bool = false;\n\n\tconstructor(init?: WindowDialogInit) {\n\t\tconst config = fallback(init, {});\n\t\tsuper({\n\t\t\t...config,\n\t\t\tcentered: fallback(config.centered, false),\n\t\t\tdraggable: fallback(config.draggable, true),\n\t\t\twidth: fallback(config.width, 1024),\n\t\t\theight: fallback(config.height, 768),\n\n\t\t\t// paddings are always 0 in window dialog\n\t\t\tpaddingX: void 0,\n\t\t\tpaddingY: void 0\n\t\t});\n\t}\n\n\tprotected minimize() {\n\t\t// currently minimize a dialog is not supported\n\t\t// dismiss it instead\n\t\tthis.dismiss();\n\t\tdefine(this, \"minimized\", true);\n\t}\n\n\tprotected maximize() {\n\t\tconst dialog = this.dialogElement!;\n\n\t\tif (!this.maximized) {\n\t\t\tdialog.style.width = \"100%\";\n\t\t\tdialog.style.height = \"100%\";\n\t\t\tdialog.style.left = \"0px\";\n\t\t\tdialog.style.top = \"0px\";\n\t\t\tdefine(this, \"maximized\", true);\n\t\t} else {\n\t\t\tconst width = this.width;\n\t\t\tconst height = this.height;\n\n\t\t\tdialog.style.width = width != null ? width + \"px\" : \"\";\n\t\t\tdialog.style.height = height != null ? height + \"px\" : \"\";\n\t\t\tdialog.style.left = \"\";\n\t\t\tdialog.style.top = \"\";\n\t\t\tdefine(this, \"maximized\", false);\n\t\t}\n\t}\n\n\tprotected initializeDraggable() {\n\t\tthis.draggableElement(this.dialogElement!, this.frameDocument!.getElementById(\"titlebar\")!);\n\t}\n\n\tprotected async initializeDocument() {\n\t\tconst dialog = this.dialogElement!;\n\t\tdialog.style.padding = \"0px\";\n\n\t\tlet title = fallback(this.title, \"\");\n\t\tif (typeof title == \"string\")\n\t\t\ttitle = { title };\n\n\t\tconst titlebarElem = document.createElement(\"div\");\n\t\ttitlebarElem.id = \"titlebar\";\n\t\tdialog.appendChild(titlebarElem);\n\n\t\tconst icon = title.icon;\n\t\tif (icon != null) {\n\t\t\tif (icon instanceof HTMLImageElement) {\n\t\t\t\ticon.id = \"titlebar-icon\";\n\t\t\t\ticon.width = 20;\n\t\t\t\ticon.height = 20;\n\t\t\t\ttitlebarElem.appendChild(icon);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst elem = document.createElement(\"img\");\n\t\t\telem.id = \"titlebar-icon\";\n\t\t\telem.width = 20;\n\t\t\telem.height = 20;\n\n\t\t\tlet src: string;\n\t\t\tif (typeof icon == \"string\")\n\t\t\t\tsrc = icon;\n\t\t\telse if (icon instanceof URL)\n\t\t\t\tsrc = icon.href;\n\t\t\telse {\n\t\t\t\tconst ar = new Uint8Array(icon);\n\t\t\t\tsrc = URL.createObjectURL(new Blob([ar.buffer], { type: \"image\", endings: \"native\" }));\n\t\t\t}\n\n\t\t\telem.src = src;\n\t\t\ttitlebarElem.appendChild(elem);\n\t\t}\n\n\t\tconst titleText = title.title;\n\t\tif (titleText != null) {\n\t\t\tconst elem = document.createElement(\"div\");\n\t\t\telem.id = \"titlebar-title\";\n\t\t\telem.innerHTML = titleText;\n\t\t\ttitlebarElem.appendChild(elem);\n\t\t}\n\n\t\tlet closeButton = fallback(title.closeButton, true);\n\t\tif (typeof closeButton == \"boolean\")\n\t\t\tcloseButton = { visible: closeButton };\n\n\t\tif (fallback(closeButton.visible, true)) {\n\t\t\tconst elem = document.createElement(\"div\");\n\t\t\telem.id = \"titlebar-close-button\";\n\t\t\telem.className = \"titlebar-button\";\n\t\t\telem.innerHTML = \"X\";\n\n\t\t\tif (fallback(closeButton.disabled, false))\n\t\t\t\telem.setAttribute(\"disabled\", \"true\");\n\t\t\telse elem.onclick = () => this.close();\n\n\t\t\ttitlebarElem.appendChild(elem);\n\t\t}\n\n\t\tlet maximizeButton = fallback(title.maximizeButton, true);\n\t\tif (typeof maximizeButton == \"boolean\")\n\t\t\tmaximizeButton = { visible: maximizeButton };\n\n\t\tif (fallback(maximizeButton.visible, true)) {\n\t\t\tconst elem = document.createElement(\"div\");\n\t\t\telem.id = \"titlebar-maximize-button\";\n\t\t\telem.className = \"titlebar-button\";\n\t\t\telem.innerHTML = \"+\";\n\n\t\t\tif (fallback(maximizeButton.disabled, false))\n\t\t\t\telem.setAttribute(\"disabled\", \"true\");\n\t\t\telse elem.onclick = () => this.maximize();\n\n\t\t\ttitlebarElem.appendChild(elem);\n\t\t}\n\n\t\tlet minimizeButton = fallback(title.minimizeButton, true);\n\t\tif (typeof minimizeButton == \"boolean\")\n\t\t\tminimizeButton = { visible: minimizeButton };\n\n\t\tif (fallback(minimizeButton.visible, true)) {\n\t\t\tconst elem = document.createElement(\"div\");\n\t\t\telem.id = \"titlebar-minimize-button\";\n\t\t\telem.className = \"titlebar-button\";\n\t\t\telem.innerHTML = \"-\";\n\n\t\t\tif (fallback(minimizeButton.disabled, false))\n\t\t\t\telem.setAttribute(\"disabled\", \"true\");\n\t\t\telse elem.onclick = () => this.minimize();\n\n\t\t\ttitlebarElem.appendChild(elem);\n\t\t}\n\n\t\tconst frame = fallback(this.frame, \"\");\n\t\tif (frame instanceof HTMLElement) {\n\t\t\tframe.className = \"frame\";\n\t\t\tdialog.appendChild(frame);\n\t\t\treturn;\n\t\t}\n\n\t\tlet src : string;\n\t\tif (typeof frame == \"string\")\n\t\t\tsrc = frame;\n\t\telse if (frame instanceof URL)\n\t\t\tsrc = frame.href;\n\t\telse {\n\t\t\tconst ar = new Uint8Array(frame);\n\t\t\tsrc = URL.createObjectURL(new Blob([ar.buffer], { type: \"text/html\", endings: \"native\" }));\n\t\t}\n\n\t\tconst frameElem = document.createElement(\"embed\");\n\t\tframeElem.type = \"text/plain\";\n\t\tframeElem.width = \"1024\";\n\t\tframeElem.height = \"768\";\n\t\tframeElem.src = src;\n\t\tframeElem.className = \"frame\";\n\n\t\tdialog.appendChild(frameElem);\n\t}\n}\n","import WindowDialog from \"./WindowDialog\";\n\nconst popup = async (src?: FrameInit, title?: string) => {\n\tawait new WindowDialog({\n\t\ttitle,\n\t\tframe: src\n\t}).show();\n};\n\nexport default popup;\n","import Dialog from \"./Dialog\";\nimport AlertDialog from \"./AlertDialog\";\nimport WindowDialog from \"./WindowDialog\";\nimport alert from \"./alert\";\nimport confirm from \"./confirm\";\nimport prompt from \"./prompt\";\nimport block from \"./block\";\nimport form from \"./form\";\nimport popup from \"./popup\";\nimport { createRawObject, defineRo } from \"./util\";\n\nconst webAlert: WebAlert = createRawObject({\n\tDialog,\n\tAlertDialog,\n\tWindowDialog,\n\talert,\n\tconfirm,\n\tprompt,\n\tblock,\n\tform,\n\tpopup\n});\n\n// unchecked global cast\nconst __global = window as any;\ndefineRo(__global, \"webAlert\", webAlert);\n\n// preserve original functions\n__global.nativeAlert = __global.alert;\n__global.nativeConfirm = __global.confirm;\n__global.nativePrompt = __global.prompt;\n\n// force override global functions\n__global.alert = webAlert.alert;\n__global.confirm = webAlert.confirm;\n__global.prompt = webAlert.prompt;\n__global.block = webAlert.block;\n__global.form = webAlert.form;\n__global.popup = webAlert.popup;\n","import AlertDialog from \"./AlertDialog\";\n\nconst alert = async (message?: string, title?: string) => {\n\tconst dialog = new AlertDialog({\n\t\tmessage: message,\n\t\ttitle: title,\n\t\tpositiveButton: {\n\t\t\ttext: \"OK\",\n\t\t\tonclick: () => {\n\t\t\t\tdialog.dismiss();\n\t\t\t}\n\t\t}\n\t});\n\tawait dialog.show();\n};\n\nexport default alert;\n","import AlertDialog from \"./AlertDialog\";\n\nconst confirm = (message?: string, title?: string): Promise<boolean> => {\n\treturn new Promise(resolve => {\n\t\tconst dialog = new AlertDialog({\n\t\t\tmessage: message,\n\t\t\ttitle: title,\n\t\t\tpositiveButton: {\n\t\t\t\ttext: \"OK\",\n\t\t\t\tonclick: () => {\n\t\t\t\t\tdialog.dismiss();\n\t\t\t\t\tresolve(true);\n\t\t\t\t}\n\t\t\t},\n\t\t\tnegativeButton: {\n\t\t\t\ttext: \"Cancel\",\n\t\t\t\tonclick: () => {\n\t\t\t\t\tdialog.cancel();\n\t\t\t\t\tresolve(false);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\tdialog.show();\n\t});\n};\n\nexport default confirm;\n","import AlertDialog from \"./AlertDialog\";\nimport { fallback } from \"./util\";\n\nconst prompt = (message?: string, defaultValue?: string, title?: string, placeholder?: string): Promise<string | null> => {\n\treturn new Promise(resolve => {\n\t\tconst inputElem = document.createElement(\"input\");\n\t\tinputElem.type = \"text\";\n\t\tinputElem.value = fallback(defaultValue, \"\");\n\t\tinputElem.placeholder = fallback(placeholder, \"\");\n\t\tinputElem.className = \"input\";\n\n\t\tconst dialog = new AlertDialog({\n\t\t\tmessage: message,\n\t\t\ttitle: title,\n\t\t\tpositiveButton: {\n\t\t\t\ttext: \"OK\",\n\t\t\t\tonclick: () => {\n\t\t\t\t\tdialog.dismiss();\n\t\t\t\t\tresolve(inputElem.value);\n\t\t\t\t}\n\t\t\t},\n\t\t\tnegativeButton: {\n\t\t\t\ttext: \"Cancel\",\n\t\t\t\tonclick: () => {\n\t\t\t\t\tdialog.cancel();\n\t\t\t\t\tresolve(null);\n\t\t\t\t}\n\t\t\t},\n\t\t\telements: [inputElem]\n\t\t});\n\n\t\tinputElem.onkeydown = (e) => {\n\t\t\tif (e.keyCode == 13) { // Enter\n\t\t\t\te.preventDefault();\n\t\t\t\tdialog.positiveButton!.onclick!();\n\t\t\t}\n\t\t};\n\n\t\tdialog.show();\n\t});\n};\n\nexport default prompt;\n","import AlertDialog from \"./AlertDialog\";\n\nconst block = async (message?: string, title?: string) => {\n\tawait new AlertDialog({\n\t\tmessage: message,\n\t\ttitle: title\n\t}).show();\n};\n\nexport default block;\n","import AlertDialog from \"./AlertDialog\";\nimport { fallback } from \"./util\";\n\nconst form = (message?: string, title?: string, elementsInit?: FormElementInit[]): Promise<FormResults | null> => {\n\treturn new Promise(resolve => {\n\t\tconst elements = fallback(elementsInit, []);\n\t\tconst htmlElements: HTMLElement[] = [];\n\t\tfor (let element of elements) {\n\t\t\tconst inline = fallback(element.inline, false);\n\n\t\t\tconst label = element.label;\n\t\t\tif (label != null) {\n\t\t\t\tconst labelElem = document.createElement(\"div\");\n\t\t\t\tlabelElem.className = \"message\";\n\t\t\t\tlabelElem.innerHTML = label;\n\t\t\t\tif (inline) {\n\t\t\t\t\tlabelElem.style.display = \"inline-block\";\n\t\t\t\t\tlabelElem.style.width = \"fit-content\";\n\t\t\t\t}\n\n\t\t\t\thtmlElements.push(labelElem);\n\t\t\t}\n\n\t\t\tlet input = element.input;\n\t\t\tif (input != null) {\n\t\t\t\tif (typeof input == \"string\")\n\t\t\t\t\tinput = { type: input };\n\n\t\t\t\tconst inputElem = document.createElement(\"input\");\n\t\t\t\tinputElem.className = \"input\";\n\t\t\t\tinputElem.type = fallback(input.type, \"text\");\n\t\t\t\tinputElem.value = fallback(input.value, \"\");\n\t\t\t\tinputElem.placeholder = fallback(input.placeholder, \"\");\n\t\t\t\tinputElem.checked = fallback(input.checked, false);\n\t\t\t\tinputElem.disabled = fallback(input.disabled, false);\n\t\t\t\tfor (let attr of fallback(input.attributes, []))\n\t\t\t\t\tinputElem.setAttribute(attr.name, attr.value);\n\n\t\t\t\tif (inline) {\n\t\t\t\t\tinputElem.style.display = \"inline-block\";\n\t\t\t\t\tinputElem.style.width = \"fit-content\";\n\t\t\t\t}\n\n\t\t\t\thtmlElements.push(inputElem);\n\t\t\t\t(element as any)[\"\\ud801\"] = inputElem;\n\t\t\t}\n\t\t}\n\n\t\tconst dialog = new AlertDialog({\n\t\t\tmessage: message,\n\t\t\ttitle: title,\n\t\t\telements: htmlElements,\n\t\t\tpositiveButton: {\n\t\t\t\ttext: \"OK\",\n\t\t\t\tonclick: () => {\n\t\t\t\t\tdialog.dismiss();\n\t\t\t\t\tconst result: FormResults = [];\n\t\t\t\t\tfor (let element of elements) {\n\t\t\t\t\t\tconst inputElem: HTMLInputElement | undefined = (element as any)[\"\\ud801\"];\n\t\t\t\t\t\tconst res: any = { label: element.label };\n\t\t\t\t\t\tif (inputElem != null) {\n\t\t\t\t\t\t\tconst attr: ElementAttributeInit[] = [];\n\t\t\t\t\t\t\tfor (let i = 0; i < inputElem.attributes.length; i++) {\n\t\t\t\t\t\t\t\tconst it = inputElem.attributes.item(i)!;\n\t\t\t\t\t\t\t\tattr.push({\n\t\t\t\t\t\t\t\t\tname: it.name,\n\t\t\t\t\t\t\t\t\tvalue: it.value\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tres.value = inputElem.value;\n\t\t\t\t\t\t\tres.checked = inputElem.checked;\n\t\t\t\t\t\t\tres.attributes = attr;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tresult.push(res);\n\t\t\t\t\t}\n\t\t\t\t\tresolve(result);\n\t\t\t\t}\n\t\t\t},\n\t\t\tnegativeButton: {\n\t\t\t\ttext: \"Cancel\",\n\t\t\t\tonclick: () => {\n\t\t\t\t\tdialog.cancel();\n\t\t\t\t\tresolve(null);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\tdialog.show();\n\t});\n};\n\nexport default form;\n"],"names":["fallback","value","def","keys","obj","Object","remove","key","attr","defineProperty","k","getOwnPropertyDescriptor","clean","to","from","init","desc","get","set","Null","__defineGetter__","__defineSetter__","__lookupGetter__","__lookupSetter__","__proto__","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf","this","writable","configurable","enumerable","instance","RawObject","constructor","initObj","super","Dialog","canceled","loadDocument","frame","document","createElement","setAttribute","createFrame","body","Promise","resolve","addEventListener","once","passive","element","scrollTo","style","overflow","appendChild","win","contentWindow","doc","frameWindow","frameDocument","currentFrame","dialogElement","getElementById","initializeDocument","draggableElement","elem","dragger","onmousedown","e","preventDefault","x1","clientX","y1","clientY","onmouseout","onmouseup","onmousemove","x","y","x2","y2","top","Math","round","offsetTop","left","offsetLeft","initializeDraggable","measureDocument","dialog","width","height","paddingX","paddingLeft","paddingRight","paddingY","paddingTop","paddingBottom","centered","resize","dw","clientWidth","dh","clientHeight","floor","window","draggable","resizable","visibility","show","dismiss","cancel","close","initButton","config","innerHTML","text","disabled","onclick","AlertDialog","ec","title","className","message","elements","HTMLElement","type","attributes","name","positiveButton","negativeButton","neutralButton","WindowDialog","maximized","minimized","minimize","maximize","padding","titlebarElem","id","icon","HTMLImageElement","src","URL","href","ar","Uint8Array","createObjectURL","Blob","buffer","endings","titleText","closeButton","visible","maximizeButton","minimizeButton","frameElem","webAlert","alert","confirm","prompt","defaultValue","placeholder","inputElem","onkeydown","keyCode","block","form","elementsInit","htmlElements","inline","label","labelElem","display","push","input","checked","result","res","i","length","it","item","popup","__global","nativeAlert","nativeConfirm","nativePrompt"],"sourceRoot":""}