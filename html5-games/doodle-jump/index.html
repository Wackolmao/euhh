<!DOCTYPE html><html><head><meta content="text/html;charset=utf-8" http-equiv="Content-Type"><title>Doodle Jump</title><style type="text/css">@import url(http://fonts.googleapis.com/css?family=Gloria+Hallelujah);*{box-sizing:border-box}body{margin:0;padding:0;font-family:'Gloria Hallelujah',cursive}.container{height:552px;width:422px;position:relative;margin:20px auto 0;overflow:hidden}canvas{height:552px;width:422px;display:block;background:url(http://i.imgur.com/Y0BMP.png) top left}#scoreBoard{width:420px;height:50px;background:rgba(182,200,220,.7);position:absolute;top:-3px;left:0;z-index:-1;border-image:url(http://i.imgur.com/5BBsR.png) 100 5 round}#scoreBoard p{font-size:20px;padding:0;line-height:47px;margin:0 0 0 5px}img{display:none}#gameOverMenu,#mainMenu{height:100%;width:100%;text-align:center;position:absolute;top:0;left:0;z-index:2}#gameOverMenu{visibility:hidden}h1,h2,h3{font-weight:400}h1{font-size:60px;color:#5a5816;transform:rotate(-10deg);margin:0}h3{text-align:right;margin:-10px 20px 0 0;color:#5e96be}h3 a{color:#5a5816}.button{width:105px;height:31px;background:url(http://i.imgur.com/2WEhF.png) 0 0 no-repeat;display:block;color:#000;font-size:12px;line-height:31px;text-decoration:none;position:absolute;left:50%;bottom:50px;margin-left:-53px}.button.tweet{bottom:100px;background-position:0 -90px}.button.fb{bottom:150px;background-position:0 -60px}.info{position:absolute;right:20px;bottom:00px;margin:0;color:green}.info .key{width:16px;height:16px;background:url(http://i.imgur.com/2WEhF.png) no-repeat;text-indent:-9999px;display:inline-block}.info .key.left{background-position:-92px -621px}.info .key.right{background-position:-92px -641px}</style></head><body><div class="container"><canvas id="canvas"></canvas><div id="mainMenu"><h1>doodle jump</h1><h3>using HTML5,</h3><h3>...by<a href="http://twitter.com/solitarydesigns/" target="_blank">Kushagra Agarwal</a></h3><h3>and<a href="http://twitter.com/_rishabhp" target="_blank">Rishabh</a></h3><p class="info">use<span class="key left">←</span><span class="key right">→</span>to move and space to (re) start...</p><a class="button" href="javascript:init()">Play</a></div><div id="gameOverMenu"><h1>game over!</h1><h3 id="go_score">you scored 0 points</h3><a class="button" href="javascript:reset()">Restart</a><a id="tweetBtn" target="_blank" class="button tweet" href="#">Tweet score</a><a id="fbBtn" target="_blank" class="button fb" href="#">Post on FB</a></div><img id="sprite" src="http://i.imgur.com/2WEhF.png"><div id="scoreBoard"><p id="score">0</p></div></div><script type="text/javascript">window.requestAnimFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)};var canvas=document.getElementById("canvas"),ctx=canvas.getContext("2d"),width=422,height=552;canvas.width=width,canvas.height=height;var player,animloop,menuloop,dir,platforms=[],image=document.getElementById("sprite"),platformCount=10,position=0,gravity=.2,flag=0,broken=0,score=0,firstRun=!0,Base=function(){this.height=5,this.width=width,this.cx=0,this.cy=614,this.cwidth=100,this.cheight=5,this.moved=0,this.x=0,this.y=height-this.height,this.draw=function(){try{ctx.drawImage(image,this.cx,this.cy,this.cwidth,this.cheight,this.x,this.y,this.width,this.height)}catch(t){}}},base=new Base,Player=function(){this.vy=11,this.vx=0,this.isMovingLeft=!1,this.isMovingRight=!1,this.isDead=!1,this.width=55,this.height=40,this.cx=0,this.cy=0,this.cwidth=110,this.cheight=80,this.dir="left",this.x=width/2-this.width/2,this.y=height,this.draw=function(){try{"right"==this.dir?this.cy=121:"left"==this.dir?this.cy=201:"right_land"==this.dir?this.cy=289:"left_land"==this.dir&&(this.cy=371),ctx.drawImage(image,this.cx,this.cy,this.cwidth,this.cheight,this.x,this.y,this.width,this.height)}catch(t){}},this.jump=function(){this.vy=-8},this.jumpHigh=function(){this.vy=-16}};function Platform(){this.width=70,this.height=17,this.x=Math.random()*(width-this.width),this.y=position,position+=height/platformCount,this.flag=0,this.state=0,this.cx=0,this.cy=0,this.cwidth=105,this.cheight=31,this.draw=function(){try{1==this.type?this.cy=0:2==this.type?this.cy=61:3==this.type&&0===this.flag?this.cy=31:3==this.type&&1==this.flag?this.cy=1e3:4==this.type&&0===this.state?this.cy=90:4==this.type&&1==this.state&&(this.cy=1e3),ctx.drawImage(image,this.cx,this.cy,this.cwidth,this.cheight,this.x,this.y,this.width,this.height)}catch(t){}},this.types=5e3<=score?[2,3,3,3,4,4,4,4]:2e3<=score&&score<5e3?[2,2,2,3,3,3,3,4,4,4,4]:1e3<=score&&score<2e3?[2,2,2,3,3,3,3,3]:500<=score&&score<1e3?[1,1,1,1,1,2,2,2,2,3,3,3,3]:100<=score&&score<500?[1,1,1,1,2,2]:[1],this.type=this.types[Math.floor(Math.random()*this.types.length)],3==this.type&&broken<1?broken++:3==this.type&&1<=broken&&(this.type=1,broken=0),this.moved=0,this.vx=1}player=new Player;for(var i=0;i<platformCount;i++)platforms.push(new Platform);var Platform_broken_substitute=function(){this.height=30,this.width=70,this.x=0,this.y=0,this.cx=0,this.cy=554,this.cwidth=105,this.cheight=60,this.appearance=!1,this.draw=function(){try{if(!0!==this.appearance)return;ctx.drawImage(image,this.cx,this.cy,this.cwidth,this.cheight,this.x,this.y,this.width,this.height)}catch(t){}}},platform_broken_substitute=new Platform_broken_substitute,spring=function(){this.x=0,this.y=0,this.width=26,this.height=30,this.cx=0,this.cy=0,this.cwidth=45,this.cheight=53,this.state=0,this.draw=function(){try{0===this.state?this.cy=445:1==this.state&&(this.cy=501),ctx.drawImage(image,this.cx,this.cy,this.cwidth,this.cheight,this.x,this.y,this.width,this.height)}catch(t){}}},Spring=new spring;function init(){var i="left",h=0;function t(){"left"==i?(player.dir="left",player.vy<-7&&-15<player.vy&&(player.dir="left_land")):"right"==i&&(player.dir="right",player.vy<-7&&-15<player.vy&&(player.dir="right_land")),document.onkeydown=function(t){var e=t.keyCode;37==e?(i="left",player.isMovingLeft=!0):39==e&&(i="right",player.isMovingRight=!0),32==e&&(!0===firstRun?init():reset())},document.onkeyup=function(t){var e=t.keyCode;37==e?(i="left",player.isMovingLeft=!1):39==e&&(i="right",player.isMovingRight=!1)},!0===player.isMovingLeft?(player.x+=player.vx,player.vx-=.15):(player.x+=player.vx,player.vx<0&&(player.vx+=.1)),!0===player.isMovingRight?(player.x+=player.vx,player.vx+=.15):(player.x+=player.vx,0<player.vx&&(player.vx-=.1)),8<player.vx?player.vx=8:player.vx<-8&&(player.vx=-8),player.y+player.height>base.y&&base.y<height&&player.jump(),base.y>height&&player.y+player.height>height&&"lol"!=player.isDead&&(player.isDead=!0),player.x>width?player.x=0-player.width:player.x<0-player.width&&(player.x=width),player.y>=height/2-player.height/2?(player.y+=player.vy,player.vy+=gravity):(platforms.forEach(function(t,e){player.vy<0&&(t.y-=player.vy),t.y>height&&(platforms[e]=new Platform,platforms[e].y=t.y-height)}),base.y-=player.vy,player.vy+=gravity,0<=player.vy&&(player.y+=player.vy,player.vy+=gravity),score++),function(){platforms.forEach(function(t,e){if(0<player.vy&&0===t.state&&player.x+15<t.x+t.width&&player.x+player.width-15>t.x&&player.y+player.height>t.y&&player.y+player.height<t.y+t.height){if(3==t.type&&0===t.flag)return t.flag=1,void(h=0);if(4==t.type&&0===t.state)player.jump(),t.state=1;else{if(1==t.flag)return;player.jump()}}});var t=Spring;0<player.vy&&0===t.state&&player.x+15<t.x+t.width&&player.x+player.width-15>t.x&&player.y+player.height>t.y&&player.y+player.height<t.y+t.height&&(t.state=1,player.jumpHigh())}(),!0===player.isDead&&function(){if(platforms.forEach(function(t,e){t.y-=12}),player.y>height/2&&0===flag)player.y-=8,player.vy=0;else if(player.y<height/2)flag=1;else if(player.y+player.height>height){showGoMenu(),hideScore(),player.isDead="lol";var t=document.getElementById("tweetBtn");t.href="http://twitter.com/share?url=http://is.gd/PnFFzu&text=I just scored "+score+" points in the HTML5 Doodle Jump game!&count=horiztonal&via=cssdeck&related=solitarydesigns";var e=document.getElementById("fbBtn");e.href="http://facebook.com/sharer.php?s=100&p[url]=http://cssdeck.com/labs/html5-doodle-jump/8&p[title]=I just scored "+score+" points in the HTML5 Doodle Jump game!&p[summary]=Can you beat me in this awesome recreation of Doodle Jump created in HTML5?"}}()}function e(){ctx.clearRect(0,0,width,height),function(){var i=platform_broken_substitute;platforms.forEach(function(t,e){2==t.type&&((t.x<0||t.x+t.width>width)&&(t.vx*=-1),t.x+=t.vx),1==t.flag&&!1===i.appearance&&0===h&&(i.x=t.x,i.y=t.y,i.appearance=!0,h++),t.draw()}),!0===i.appearance&&(i.draw(),i.y+=8),i.y>height&&(i.appearance=!1)}(),function(){var t=Spring,e=platforms[0];1==e.type||2==e.type?(t.x=e.x+e.width/2-t.width/2,t.y=e.y-e.height-10,t.y>height/1.1&&(t.state=0),t.draw()):(t.x=0-t.width,t.y=0-t.height)}(),t(),player.draw(),base.draw(),document.getElementById("score").innerHTML=score}firstRun=!1,menuLoop=function(){},(animloop=function(){e(),requestAnimFrame(animloop)})(),hideMenu(),showScore()}function reset(){hideGoMenu(),showScore(),player.isDead=!1,score=position=flag=0,base=new Base,player=new Player,Spring=new spring,platform_broken_substitute=new Platform_broken_substitute,platforms=[];for(var t=0;t<platformCount;t++)platforms.push(new Platform)}function hideMenu(){document.getElementById("mainMenu").style.zIndex=-1}function showGoMenu(){var t=document.getElementById("gameOverMenu");t.style.zIndex=1,t.style.visibility="visible",document.getElementById("go_score").innerHTML="You scored "+score+" points!"}function hideGoMenu(){var t=document.getElementById("gameOverMenu");t.style.zIndex=-1,t.style.visibility="hidden"}function showScore(){document.getElementById("scoreBoard").style.zIndex=1}function hideScore(){document.getElementById("scoreBoard").style.zIndex=-1}function playerJump(){player.y+=player.vy,player.vy+=gravity,0<player.vy&&player.x+15<260&&155<player.x+player.width-15&&475<player.y+player.height&&player.y+player.height<500&&player.jump(),"left"==dir?(player.dir="left",player.vy<-7&&-15<player.vy&&(player.dir="left_land")):"right"==dir&&(player.dir="right",player.vy<-7&&-15<player.vy&&(player.dir="right_land")),document.onkeydown=function(t){var e=t.keyCode;37==e?(dir="left",player.isMovingLeft=!0):39==e&&(dir="right",player.isMovingRight=!0),32==e&&(!0===firstRun?(init(),firstRun=!1):reset())},document.onkeyup=function(t){var e=t.keyCode;37==e?(dir="left",player.isMovingLeft=!1):39==e&&(dir="right",player.isMovingRight=!1)},!0===player.isMovingLeft?(player.x+=player.vx,player.vx-=.15):(player.x+=player.vx,player.vx<0&&(player.vx+=.1)),!0===player.isMovingRight?(player.x+=player.vx,player.vx+=.15):(player.x+=player.vx,0<player.vx&&(player.vx-=.1)),player.y+player.height>base.y&&base.y<height&&player.jump(),player.x>width?player.x=0-player.width:player.x<0-player.width&&(player.x=width),player.draw()}function update(){ctx.clearRect(0,0,width,height),playerJump()}menuLoop=function(){update(),requestAnimFrame(menuLoop)},menuLoop()</script></body></html>